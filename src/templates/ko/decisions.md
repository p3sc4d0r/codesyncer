# DECISIONS.md - 의논 결정 기록

> **의사결정 로그** - 모든 중요 결정을 영구 기록
>
> 생성일: [TODAY]

---

## 📋 기록 형식

모든 의논 결정은 다음 형식으로 자동 기록됩니다:

```markdown
---
### [날짜] - [주제]
**카테고리**: [CRITICAL/IMPORTANT/MINOR]
**결정**: [결정 내용]
**이유**: [결정 이유]
**대안**: [고려했던 다른 옵션들]
**결정자**: [사용자명 또는 팀명]
**코드 위치**: [파일 경로:라인]
**관련 이슈**: [이슈 번호 또는 링크]
---
```

---

## 📝 결정 기록

<!-- 의논 시 자동으로 여기에 추가됩니다 -->

### 예시 기록

---
### 2024-10-17 - 데이터 삭제 방식 선택
**카테고리**: CRITICAL
**결정**: Soft Delete 방식 사용
**이유**:
- 30일 복구 기간 필요 (고객 요청 대응)
- 통계 데이터 유지
- GDPR 준수 (30일 후 완전 삭제)
**대안**:
- Hard Delete: 즉시 삭제 (복구 불가)
- Archive: 별도 테이블로 이동 (복잡도 증가)
**결정자**: 개발팀 + 기획팀 협의
**코드 위치**: `src/services/UserService.ts:45`
**관련 이슈**: #123
---

---

## 📊 카테고리별 통계

- **CRITICAL**: 0건 (결제, 보안, 데이터 삭제 등)
- **IMPORTANT**: 0건 (비즈니스 로직, 가격, 외부 연동 등)
- **MINOR**: 0건 (UI/UX, 성능 최적화 등)

**총 결정**: 0건

---

## 🔍 카테고리 설명

### CRITICAL (필수 의논)
- 💰 결제/과금 관련
- 🔐 인증/권한/보안
- 🗑️ 데이터 삭제/마이그레이션
- 📜 개인정보/법적 규정

### IMPORTANT (권장 의논)
- 💵 가격/비즈니스 로직
- 🔌 외부 API 연동
- 🚀 배포/인프라 변경

### MINOR (선택적 의논)
- 🎨 UI/UX 개선
- ⚡ 성능 최적화
- 📦 라이브러리 변경

---

## 🔗 연관 문서

의논 결정은 코드에도 주석으로 기록됩니다:

```tsx
/**
 * @codesyncer-decision: [2024-10-17] Soft Delete 방식
 * 이유: 30일 복구 가능, GDPR 준수
 */
async function deleteUser(id: string) {
  return db.update(id, { deleted_at: new Date() });
}
```

**검색**: `grep -r "@codesyncer-decision" ./src`

---

## 📅 월별 통계

### 2024년 10월
- 총 결정: 0건
- CRITICAL: 0건
- IMPORTANT: 0건
- MINOR: 0건

---

## 💡 의논 프로세스

### 1. 키워드 자동 감지
AI가 다음 키워드 감지 시 자동 중단:
- 결제, 인증, 삭제, 가격 등

### 2. 옵션 제시
```
⚠️ '결제' 키워드 감지. 의논이 필요합니다.

💡 추천안:
Stripe 사용

🔄 대안:
A. Iamport (아임포트)
B. Toss Payments
C. 직접 구현

어떻게 진행할까요?
```

### 3. 사용자 응답
- "진행" → 추천안 채택
- "대안 A" → 대안 선택
- "보류" → 나중에 결정

### 4. 자동 기록
- DECISIONS.md에 추가
- 코드에 `@codesyncer-decision` 주석
- ARCHITECTURE.md 통계 업데이트

---

## 🎯 베스트 프랙티스

### ✅ 좋은 결정 기록

```markdown
### 2024-10-15 - 결제 시스템 선택
**카테고리**: CRITICAL
**결정**: Stripe 사용
**이유**:
- 해외 결제 지원 필요
- 구독 결제 기능 내장
- 안정적인 서비스
**대안**:
- Iamport: 국내 전용 (해외 결제 불가)
- Toss: 아직 구독 기능 미흡
**결정자**: CTO + 개발팀
**코드 위치**: `src/services/PaymentService.ts`
```

### ❌ 나쁜 결정 기록

```markdown
### 어제 - 뭔가 결정
**카테고리**: 중요함
**결정**: 이걸로 함
**이유**: 그냥
```

---

## 🔄 자동 업데이트

이 문서는 다음 상황에서 자동 업데이트됩니다:

1. **의논 필수 키워드** 감지 후 결정
2. 사용자가 명시적으로 의논 요청
3. `@codesyncer-decision` 태그 추가 시

**수동 추가**: 직접 위 형식으로 작성 가능

---

## 📚 검색

### 최근 결정 찾기
```bash
# 최근 10개 결정
tail -n 50 .claude/DECISIONS.md

# 특정 카테고리
grep "CRITICAL" .claude/DECISIONS.md

# 특정 날짜
grep "2024-10-" .claude/DECISIONS.md
```

### 코드에서 결정 찾기
```bash
# 모든 결정 주석
grep -r "@codesyncer-decision" ./src

# 특정 파일의 결정
grep "@codesyncer-decision" src/services/PaymentService.ts
```

---

## 🤝 팀 협업

### 새 팀원 온보딩
1. 이 파일을 처음부터 읽기
2. 주요 결정 사항 파악
3. "왜 이렇게 구현했는지" 이해

### 결정 리뷰
- 월 1회 팀 회의에서 리뷰
- 재검토 필요한 결정 표시
- 변경된 결정은 새 항목으로 추가

---

**버전**: 1.0.0
**마지막 업데이트**: [TODAY]

*모든 중요한 의사결정이 영구 기록됩니다. 팀의 지식 자산입니다.*
